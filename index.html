<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For My Sundari ðŸ’›</title>

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      color: #4a2c2a;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      /* Removed overflow-x hidden to allow natural movement */
    }

    .container {
      background: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 20px;
      width: 90%;
      max-width: 450px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      position: relative;
      margin: 20px;
    }

    .photo-display {
      width: 250px;
      height: 250px;
      object-fit: cover;
      border-radius: 15px;
      margin: 0 auto 15px auto;
      display: block;
      box-shadow: 0 10px 20px rgba(238, 156, 167, 0.4);
      transition: opacity 0.8s ease-in-out;
      border: 4px solid white;
    }

    /* FIX: Added a height and scroll to the message box */
    #message {
      font-size: 1rem;
      line-height: 1.6;
      white-space: pre-wrap;
      height: 250px; /* Increased slightly for better reading */
      overflow-y: auto;
      margin-bottom: 20px;
      text-align: left;
      padding: 10px;
      scroll-behavior: smooth; /* Makes the movement silky smooth */
    }

    .hidden { display: none; }

    .valentine-section h2 {
      margin-bottom: 20px;
      color: #ff5e7e;
    }

    button {
      padding: 12px 24px;
      font-size: 1rem;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      margin: 10px;
      transition: all 0.2s ease;
      font-weight: bold;
    }

    #yesBtn {
      background: #ff5e7e;
      color: white;
      box-shadow: 0 4px 15px rgba(255, 94, 126, 0.3);
    }

    #noBtn {
      background: #ccc;
      position: fixed; /* Fixed works better for "run away" */
      z-index: 999;
    }

    button:hover { transform: scale(1.1); }

    .final-message {
      font-size: 1.4rem;
      color: #ff5e7e;
      font-weight: bold;
      animation: heartBeat 1.5s infinite;
    }
    
    @keyframes heartBeat {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>

  <div class="container">
    <img id="slideshow" src="photos/photo1.jpg" class="photo-display" alt="Memories">
    
    <div id="message"></div>

    <div id="valentine" class="valentine-section hidden">
      <h2>Will you be my Valentine? ðŸ’–</h2>
      <button id="yesBtn">Yes ðŸ’›</button>
      <button id="noBtn">No ðŸ™ƒ</button>
    </div>

    <div id="final" class="hidden final-message">
      Yayyyy ðŸ¥°ðŸ’› <br>
      I knew itttt! <br><br>
      Happy Valentineâ€™s Day, Bangaram ðŸ’•
    </div>
  </div>

  <script>
    const images = [
      "photos/photo1.jpg", "photos/photo2.jpg", "photos/photo3.jpeg",
      "photos/photo4.jpeg", "photos/photo5.jpeg", "photos/photo6.jpeg",
      "photos/photo7.jpeg", "photos/photo8.jpeg", "photos/photo9.jpeg",
      "photos/photo10.jpeg", "photos/photo11.jpeg"
    ];

    const text = `My dear sundari,
I was thinking of writing something and realised that i don't often tell you this but you make my life better just by being in it.

The way you talk, nuvvu vese kullu joke lu ðŸ˜‚, all the things make me happy and laugh and wish to hear more of those.

Inka andam gurinchi matladite.....those eyes, those lips and that smile are more than enough to melt and make me forget all the noises and disturbances in my head and heart. The best look for me is you being lazy in a not so tight T-shirt with a messy bun wearing spects ðŸ« . You are and will be the most prettiest woman.

I am not perfect, you are not perfect and we together can have a very happy imperfect life with all the joys and sorrows added with a lots and lots of sarasalu ofcourse as soon as you accept my proposal ðŸ™ƒ, oppesukove ðŸ™‡ðŸ»â€â™‚ï¸.

Love you Bangaram ðŸ’›....`;

    const messageEl = document.getElementById("message");
    const valentineEl = document.getElementById("valentine");
    const finalEl = document.getElementById("final");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const imgEl = document.getElementById("slideshow");

    let index = 0;
    let imgIndex = 0;

    function changeImage() {
      imgIndex = (imgIndex + 1) % images.length;
      imgEl.style.opacity = 0; 
      setTimeout(() => {
        imgEl.src = images[imgIndex];
        imgEl.style.opacity = 1;
      }, 800);
    }

    const imageInterval = setInterval(changeImage, 3500);

    function typeWriter() {
      if (index < text.length) {
        messageEl.innerHTML += text.charAt(index);
        index++;
        
        // CHECK: Only auto-scroll if the user is already near the bottom.
        // This allows her to scroll UP and stay there without being snapped back.
        const isAtBottom = messageEl.scrollHeight - messageEl.clientHeight <= messageEl.scrollTop + 50;
        
        if (isAtBottom) {
          messageEl.scrollTop = messageEl.scrollHeight;
        }
        
        setTimeout(typeWriter, 40); 
      } else {
        clearInterval(imageInterval); 
        setTimeout(() => {
          valentineEl.classList.remove("hidden");
        }, 1000);
      }
    }

    typeWriter();

    // No button runs away logic
    noBtn.addEventListener("mouseover", () => {
      const x = Math.random() * (window.innerWidth - 120);
      const y = Math.random() * (window.innerHeight - 50);
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    });

    yesBtn.addEventListener("click", () => {
      valentineEl.classList.add("hidden");
      imgEl.style.display = "none"; 
      messageEl.classList.add("hidden");
      finalEl.classList.remove("hidden");
    });
  </script>
</body>
</html>